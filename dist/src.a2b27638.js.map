{"version":3,"sources":["src/sprite.js","src/cannon.js","src/bunker.js","src/bullet.js","src/alien.js","src/input-handler.js","src/game.js","src/index.js","node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["Sprite","img","x","y","w","h","Cannon","sprite","_sprite","ctx","time","drawImage","Bunker","mask","Array","i","j","init","imgSize","myImage","getImageData","data","indF","Math","floor","indS","putImageData","destroyPoint","firtsCoord","secondCoord","isTop","isBot","isLeft","isRight","Bullet","vx","vy","color","fillStyle","fillRect","Alien","alienType","spriteA","spriteB","isAlive","_spriteA","_spriteB","blinkTime","isInjured","sp","ceil","InputHandler","down","pressed","document","addEventListener","e","keyCode","code","canvasForReplay","gs","seconds","aShoot","level","score","lives","goToNextLevel","settings","lineW","headerSize","footerSize","game","nextLevelWait","alien","alienTypes","inOneLine","shootTime","size","shootProbability","BulletMult","injDist","killDist","collisionMaxStepPx","aliveAfterKilling","shootInterval","makeNotInjuredTime","blockMovingVx","blockMovingVy","blockMovingTime","cannon","step","baseBulletSpeed","bulletSpeedProbabilityRange","bunker","amount","distanceFromCannon","safeArea","l","t","r","b","assets","sprites","aliens","objs","bullets","bunkers","inputHandler","preload","onPreloadComplete","Image","src","assetPath","canvas","setAliens","height","push","timer","setTimeout","timer_tictoc","setTimerMoving","isAnyAliveAliens","moveAliens","aliensStartShoot","update","potentialX","isDown","isPressed","bulletX","bulletY","bulletVy","random","forEach","checkBulletIntersection","checkAreBulletsInSafeArea","length","touch","founded","bottom","abs","top","a","right","left","lvl","len","alienX","alienY","stopGame","startNextLevel","splice","checkCannonOnLine","checkAlienOnLine","ax","ay","bx","by","indBullet","vxFull","vyFull","steps","max","xStep","yStep","stepCounter","killed","toPointA","c","xDist","yDist","injureAlien","killAlien","hasPoint","index","makeNotInjured","makeAlienIsNotAlive","killCannon","showSafeAreaZone","beginPath","lineWidth","strokeStyle","strokeRect","closePath","drawBackground","halfLineW","font","textAlign","textBaseline","fillText","drawGameOver","sqrWPart","sqrHPart","clearRect","drawNextLevel","draw","getContext","width","maxI","maxJ","timeout","alienMakeShoot","k","ind","bulletVx","getElementById","window","innerHeight","tickLength","lastTick","lastRender","stopCycle","run","tFrame","requestAnimationFrame","nextTick","numTicks","timeSinceTick","cancelAnimationFrame","performance","now","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","appendChild","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","d","dep","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["export default class Sprite {\r\n  constructor(img, x, y, w, h) {\r\n    this.img = img;\r\n  \tthis.x = x;\r\n  \tthis.y = y;\r\n  \tthis.w = w;\r\n  \tthis.h = h;\r\n  }\r\n}\r\n","export default class Cannon {\r\n  constructor(x, y, sprite) {\r\n    this.x = x;\r\n  \tthis.y = y;\r\n    this._sprite = sprite;\r\n  }\r\n\r\n  draw(ctx, time) {\r\n    ctx.drawImage(\r\n      this._sprite.img,\r\n      this._sprite.x, this._sprite.y, this._sprite.w, this._sprite.h,\r\n      this.x, this.y, this._sprite.w, this._sprite.h\r\n    );\r\n  }\r\n}\r\n","export default class Bunker {\r\n    constructor(x, y, sprite) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this._sprite = sprite;\r\n        this.w = sprite.w\r\n        this.h = sprite.h\r\n        this.mask = new Array(this.h);\r\n        for(let i = 0; i < this.h; i++)\r\n        {\r\n            this.mask[i] = new Array(this.w)\r\n            for(let j = 0; j < this.w; j++)\r\n            {\r\n                this.mask[i][j] = true;\r\n            }\r\n        }\r\n        this.init = false\r\n    }\r\n\r\n    draw(ctx, time) {\r\n        ctx.drawImage(\r\n            this._sprite.img,\r\n            this._sprite.x, this._sprite.y, this._sprite.w, this._sprite.h,\r\n            this.x, this.y, this._sprite.w, this._sprite.h\r\n        );\r\n\r\n        const imgSize = this.w * this.h\r\n        if(!this.init)\r\n        {\r\n            let myImage = ctx.getImageData(this.x, this.y, this.w, this.h);\r\n            for (let i = 0; i < imgSize; i++)\r\n            {\r\n                myImage.data[i * 4 + 0] = 0\r\n                indF = Math.floor(i / this.w)\r\n                indS = i - this.w * indF\r\n                if(myImage.data[i * 4 + 1] === 250)\r\n                {\r\n                    this.mask[indF][indS] = true\r\n                }\r\n                else\r\n                {\r\n                    this.mask[indF][indS] = false\r\n                }\r\n            }\r\n            this.init = true\r\n            ctx.putImageData(myImage, this.x, this.y)\r\n        }\r\n\r\n        let myImage = ctx.getImageData(this.x, this.y, this.w, this.h);\r\n        let indF = 0\r\n        let indS = 0\r\n\r\n        for (let i = 0; i < imgSize; i++)\r\n        {\r\n            indF = Math.floor(i / this.w)\r\n            indS = i - this.w * indF\r\n            myImage.data[i * 4 + 3] = this.mask[indF][indS] ? 255 : 0\r\n        }\r\n        ctx.putImageData(myImage, this.x, this.y)\r\n    }\r\n\r\n    hasPoint(x, y)\r\n    {\r\n        if (x >= this.x && x < this.x + this.w &&\r\n            y >= this.y && y < this.y + this.h &&\r\n            this.mask[y - this.y][x - this.x])\r\n        {\r\n            this.destroyPoint(x, y)\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    destroyPoint(x, y)\r\n    {\r\n        let firtsCoord = y - this.y\r\n        let secondCoord = x - this.x\r\n        this.mask[firtsCoord][secondCoord] = false\r\n\r\n        const isTop = firtsCoord > 0\r\n        const isBot = firtsCoord < this.h - 1\r\n        const isLeft = secondCoord > 0\r\n        const isRight = secondCoord < this.w - 1\r\n\r\n        if (isRight) {this.mask[firtsCoord][secondCoord + 1] = false}\r\n        if (isLeft)  {this.mask[firtsCoord][secondCoord - 1] = false}\r\n        if (isTop)\r\n        {\r\n            {this.mask[firtsCoord - 1][secondCoord + 1] = false}\r\n            {this.mask[firtsCoord - 1][secondCoord    ] = false}\r\n            {this.mask[firtsCoord - 1][secondCoord - 1] = false}\r\n        }\r\n        if (isBot)\r\n        {\r\n            {this.mask[firtsCoord + 1][secondCoord + 1] = false}\r\n            {this.mask[firtsCoord + 1][secondCoord    ] = false}\r\n            {this.mask[firtsCoord + 1][secondCoord - 1] = false}\r\n        }\r\n    }\r\n}\r\n","export default class Bullet {\r\n  constructor(x, y, vx, vy, w, h, color) {\r\n    this.x = x;\r\n  \tthis.y = y;\r\n  \tthis.vx = vx;\r\n  \tthis.vy = vy;\r\n  \tthis.w = w;\r\n  \tthis.h = h;\r\n  \tthis.color = color;\r\n  }\r\n\r\n  update(time) {\r\n     // this.x = Math.floor(this.x + this.vx);\r\n      //this.y = Math.floor(this.y + this.vy);\r\n      this.x += this.vx;\r\n      this.y += this.vy;\r\n  }\r\n\r\n  draw(ctx) {\r\n    ctx.fillStyle = this.color;\r\n  \tctx.fillRect(this.x, this.y, this.w, this.h);\r\n  }\r\n}\r\n","export default class Alien {\r\n  constructor(x, y, [spriteA, spriteB], alienType) {\r\n    this.x = x;\r\n  \tthis.y = y;\r\n  \tthis.isAlive = true;\r\n    this._spriteA = spriteA;\r\n    this._spriteB = spriteB;\r\n    this.blinkTime = 1000;\r\n    this.isInjured = false;\r\n    this.alienType = alienType;\r\n  }\r\n\r\n  draw(ctx, time)\r\n  {\r\n    if(this.isAlive)\r\n    {\r\n      let sp = (Math.ceil(time / this.blinkTime) % 2 === 0) ? this._spriteA : this._spriteB;\r\n\r\n      ctx.drawImage(\r\n          sp.img,\r\n          sp.x, sp.y, sp.w, sp.h,\r\n          this.x, this.y, sp.w, sp.h\r\n      );\r\n    }\r\n  }\r\n}\r\n","export default class InputHandler {\r\n  constructor() {\r\n    this.down = {};\r\n  \tthis.pressed = {};\r\n  \tdocument.addEventListener(\"keydown\", e => {\r\n  \t\tthis.down[e.keyCode] = true;\r\n  \t});\r\n  \tdocument.addEventListener(\"keyup\", e => {\r\n  \t\tdelete this.down[e.keyCode];\r\n  \t\tdelete this.pressed[e.keyCode];\r\n  \t});\r\n  }\r\n\r\n  /**\r\n   * Returns whether a key is pressod down\r\n   * @param  {number} code the keycode to check\r\n   * @return {bool} the result from check\r\n   */\r\n  isDown(code) {\r\n  \treturn this.down[code];\r\n  }\r\n\r\n  /**\r\n   * Return wheter a key has been pressed\r\n   * @param  {number} code the keycode to check\r\n   * @return {bool} the result from check\r\n   */\r\n  isPressed(code) {\r\n  \t// if key is registred as pressed return false else if\r\n  \t// key down for first time return true else return false\r\n  \tif (this.pressed[code]) {\r\n  \t\treturn false;\r\n  \t} else if (this.down[code]) {\r\n  \t\treturn this.pressed[code] = true;\r\n  \t}\r\n  \treturn false;\r\n  }\r\n}\r\n","import Sprite from './sprite'\r\nimport Cannon from './cannon'\r\nimport Bunker from './bunker'\r\nimport Bullet from './bullet'\r\nimport Alien from './alien'\r\nimport InputHandler from './input-handler'\r\n\r\nimport assetPath from '../assets/invaders.png'\r\n\r\nlet canvasForReplay;\r\n\r\nlet gs = { // game state. Dont change! It isn't a settings!\r\n    seconds:{\r\n        aShoot: 0,\r\n    },\r\n    level: 1,\r\n    score: 0,\r\n    lives: 3333,\r\n    goToNextLevel: false,\r\n}\r\n\r\nlet settings = {\r\n    lineW: 6, // width of background line\r\n    headerSize: 50, // top offset in background\r\n    footerSize: 50, // bottom offset in background\r\n    game:{\r\n        nextLevelWait: 2000, // ms waiting time between levels\r\n    },\r\n    alien: {\r\n        alienTypes: [2, 1, 0, 2, 1, 0], // types numbers in each line\r\n        inOneLine: 11, // pcs // amount of alien in one line. It means amount rows\r\n        shootTime: 1, // sec // each shootTime lower of aliens are shoot\r\n        size: 33, // px // size of one alien\r\n        shootProbability: 0.1, // probability of alien shooting\r\n        BulletMult: 300, // amount steps like a speed\r\n        injDist: 33, // distance from center of alien ot point C on line in detecting injuring\r\n        killDist: 15, // distance from center of alien ot point C on line in detecting killing. < injDist\r\n        collisionMaxStepPx: 1, // step on line while detecting collision. <= killDist. This parameter should be == 1 if bunkers intersect by masks\r\n        aliveAfterKilling: 1500, // ms alive time when killing\r\n        shootInterval: 200, // ms between few shootings\r\n        makeNotInjuredTime: 2000, // ms how much time alien will be injured. Injured could shoot only one bullet per time\r\n        blockMovingVx: 1, // moving step in x axis\r\n        blockMovingVy: 1, // moving step in y axis\r\n        blockMovingTime: 100, // ms between moving\r\n    },\r\n    cannon: {\r\n        step: 4, // px // each tep of <- or -> move cannon on step px\r\n        baseBulletSpeed: 8,\r\n        bulletSpeedProbabilityRange: 0.2,\r\n        killDist: 11, // distance from center of alien to point C on line in detecting killing. < injDist\r\n        collisionMaxStepPx: 1, // step on line while detecting collision. <= killDist. This parameter should be == 1 if bunkers intersect by masks\r\n    },\r\n    bunker:{\r\n        amount: 4,\r\n        distanceFromCannon: 50,\r\n    }\r\n}\r\n\r\nlet safeArea = { // will be set after\r\n    l: 0,\r\n    t: 0,\r\n    r: 0,\r\n    b: 0,\r\n}\r\n\r\nlet assets;\r\n\r\nconst sprites = {\r\n  aliens: [],\r\n  cannon: null,\r\n  bunker: null\r\n};\r\n\r\nconst objs = {\r\n    bullets: [],\r\n    aliens: [],\r\n    bunkers: [],\r\n    cannon: null,\r\n};\r\nconst inputHandler = new InputHandler();\r\n\r\nexport function preload(onPreloadComplete)\r\n{\r\n    assets = new Image();\r\n    assets.addEventListener(\"load\", () => {\r\n        sprites.cannon = new Sprite(assets, 62, 0, 22, 16);\r\n        sprites.bunker = new Sprite(assets, 84, 8, 36, 24);\r\n        sprites.aliens = [\r\n            [new Sprite(assets,  0, 0, 22, 16), new Sprite(assets,  0, 16, 22, 16)],\r\n            [new Sprite(assets, 22, 0, 16, 16), new Sprite(assets, 22, 16, 16, 16)],\r\n            [new Sprite(assets, 38, 0, 24, 16), new Sprite(assets, 38, 16, 24, 16)]\r\n        ]\r\n\r\n        onPreloadComplete();\r\n    });\r\n    assets.src = assetPath;\r\n}\r\n\r\nexport function init(canvas)\r\n{\r\n\r\n    canvasForReplay = canvas\r\n    setAliens(gs.level)\r\n\r\n    objs.cannon = new Cannon(100, canvas.height - settings.footerSize - sprites.cannon.h - Math.floor(settings.lineW / 2), sprites.cannon);\r\n\r\n\tfor(let i = 0; i < settings.bunker.amount; i++)\r\n    {\r\n        objs.bunkers.push(new Bunker(100, canvas.height - settings.footerSize - sprites.bunker.h - Math.floor(settings.lineW / 2) - settings.bunker.distanceFromCannon, sprites.bunker))\r\n    }\r\n\r\n    gs.timer = setTimeout(timer_tictoc, 1000);\r\n    setTimerMoving();\r\n}\r\n\r\nfunction setTimerMoving()\r\n{\r\n    if(isAnyAliveAliens())\r\n    {\r\n        moveAliens()\r\n    }\r\n    setTimeout(setTimerMoving, settings.alien.blockMovingTime)\r\n}\r\n\r\nfunction timer_tictoc()\r\n{\r\n    gs.seconds.aShoot += 1;\r\n    if(gs.seconds.aShoot === settings.alien.shootTime && gs.lives > 0)\r\n    {\r\n        aliensStartShoot()\r\n        gs.seconds.aShoot = 0\r\n    }\r\n    gs.timer = setTimeout(timer_tictoc, 1000);\r\n}\r\n\r\nexport function update(time)\r\n{\r\n    if(gs.lives > 0)\r\n    {\r\n        // Left\r\n        let potentialX = objs.cannon.x - settings.cannon.step\r\n        if (inputHandler.isDown(37) &&\r\n            potentialX >= safeArea.l)\r\n        {\r\n            objs.cannon.x = potentialX;\r\n        }\r\n\r\n        // Right\r\n        potentialX = objs.cannon.x + settings.cannon.step\r\n        if (inputHandler.isDown(39) &&\r\n            potentialX + Math.floor(objs.cannon._sprite.w / 2) <= safeArea.r - safeArea.l)\r\n        {\r\n            objs.cannon.x = potentialX;\r\n        }\r\n\r\n        // Space\r\n        if (inputHandler.isPressed(32))\r\n        {\r\n            const bulletX = objs.cannon.x + Math.floor(objs.cannon._sprite.h / 2);\r\n            const bulletY = objs.cannon.y;\r\n            const bulletVy = -1 * settings.cannon.baseBulletSpeed * (1 - settings.cannon.bulletSpeedProbabilityRange + Math.random() * settings.cannon.bulletSpeedProbabilityRange * 2)\r\n            objs.bullets.push(new Bullet(bulletX, bulletY, 0, bulletVy, 4, 8, \"green\"));\r\n        }\r\n\r\n        objs.bullets.forEach(b => b.update(time));\r\n        checkBulletIntersection()\r\n        checkAreBulletsInSafeArea()\r\n        if(!isAnyAliveAliens())\r\n        {\r\n            goToNextLevel()\r\n        }\r\n    }\r\n    else if (inputHandler.isPressed(32))\r\n    {\r\n        // replay\r\n        objs.cannon = null\r\n        objs.bullets = []\r\n        objs.aliens = []\r\n        objs.bunkers = []\r\n        gs.lives = 3\r\n        gs.score = 0\r\n        gs.level = 1\r\n        gs.seconds.aShoot = 0\r\n\r\n        init(canvasForReplay)\r\n    }\r\n}\r\n\r\nfunction isAnyAliveAliens()\r\n{\r\n    for(let i = 0; i < objs.aliens.length; i++)\r\n    {\r\n        if(objs.aliens[i].isAlive)\r\n        {\r\n            return true\r\n        }\r\n    }\r\n    return false\r\n}\r\n\r\nfunction moveAliens()\r\n{\r\n    if(gs.lives > 0 && gs.goToNextLevel == false)\r\n    {\r\n        // Y axis\r\n        settings.alien.blockMovingVy *= (Math.random() < 0.1) ? -1 : 1\r\n\r\n        if (settings.alien.blockMovingVy > 0) {\r\n            // check if bottom of block will not touch top of bunkers\r\n            let touch = false\r\n            // first let's find bottom alive alien\r\n            let founded = false\r\n            let bottom = -1\r\n            for (let i = settings.alien.alienTypes.length - 1; i >= 0 && !founded; i--) {\r\n                for (let j = 0; j < settings.alien.inOneLine; j++) {\r\n                    if (objs.aliens[i * settings.alien.inOneLine + j].isAlive) {\r\n                        founded = true\r\n                        bottom = objs.aliens[i * settings.alien.inOneLine + j].y + settings.alien.size;\r\n                    }\r\n                }\r\n            }\r\n            if (!founded) {\r\n                return\r\n            }\r\n            touch = bottom + settings.alien.blockMovingVy + 0.5 >= objs.bunkers[0].y\r\n            settings.alien.blockMovingVy = (touch ? -1 : 1) * Math.abs(settings.alien.blockMovingVy)\r\n        } else {\r\n            // check if top of block will not touch top of safe area\r\n            let touch = false\r\n            // first let's find top alive alien\r\n            let founded = false\r\n            let top = -1\r\n            for (let i = 0; i < settings.alien.alienTypes.length && !founded; i++) {\r\n                for (let j = 0; j < settings.alien.inOneLine; j++) {\r\n                    if (objs.aliens[i * settings.alien.inOneLine + j].isAlive) {\r\n                        founded = true\r\n                        top = objs.aliens[i * settings.alien.inOneLine + j].y;\r\n                    }\r\n                }\r\n            }\r\n            if (!founded) {\r\n                return\r\n            }\r\n            touch = top + settings.alien.blockMovingVy - 0.5 < safeArea.t\r\n            settings.alien.blockMovingVy = touch ? Math.abs(settings.alien.blockMovingVy) : settings.alien.blockMovingVy\r\n        }\r\n        objs.aliens.forEach(a => a.y += settings.alien.blockMovingVy);\r\n\r\n        // X axis\r\n        //settings.alien.blockMovingVx *= (Math.random() < 0.05)? -1: 1\r\n\r\n        if (settings.alien.blockMovingVx > 0) {\r\n            // check if bottom of block will not touch top of bunkers\r\n            let touch = false\r\n            // first let's find right alive alien\r\n            let founded = false\r\n            let right = -1\r\n            for (let j = settings.alien.inOneLine - 1; j >= 0; j--) {\r\n                for (let i = 0; i < settings.alien.alienTypes.length && !founded; i++) {\r\n                    if (objs.aliens[i * settings.alien.inOneLine + j].isAlive) {\r\n                        founded = true\r\n                        right = objs.aliens[i * settings.alien.inOneLine + j].x + settings.alien.size;\r\n                    }\r\n                }\r\n            }\r\n            if (!founded) {\r\n                return\r\n            }\r\n            touch = right + settings.alien.blockMovingVx + 5 >= safeArea.r\r\n            settings.alien.blockMovingVx = touch ? -1 * Math.abs(settings.alien.blockMovingVx) : settings.alien.blockMovingVx\r\n        } else {\r\n            // check if top of block will not touch top of safe area\r\n            let touch = false\r\n            // first let's find left alive alien\r\n            let founded = false\r\n            let left = -1\r\n            for (let j = 0; j <= settings.alien.inOneLine; j++) {\r\n                for (let i = 0; i < settings.alien.alienTypes.length && !founded; i++) {\r\n                    if (objs.aliens[i * settings.alien.inOneLine + j].isAlive) {\r\n                        founded = true\r\n                        left = objs.aliens[i * settings.alien.inOneLine + j].x;\r\n                    }\r\n                }\r\n            }\r\n            if (!founded) {\r\n                return\r\n            }\r\n            touch = left + settings.alien.blockMovingVx - 5 < safeArea.l\r\n            settings.alien.blockMovingVx = touch ? Math.abs(settings.alien.blockMovingVx) : settings.alien.blockMovingVx\r\n        }\r\n        objs.aliens.forEach(a => a.x += settings.alien.blockMovingVx);\r\n    }\r\n}\r\n\r\nfunction setAliens(lvl)\r\n{\r\n    if(lvl === 1)\r\n    {\r\n        settings.alien.alienTypes = [2, 1, 0, 2, 1, 0] // types numbers in each line\r\n        settings.alien.inOneLine = 11 // pcs // amount of alien in one line. It means amount rows\r\n        settings.alien.shootProbability = 0.1\r\n        settings.alien.blockMovingTime = 100\r\n    }\r\n    else if(lvl === 2)\r\n    {\r\n        settings.alien.alienTypes = [2, 1, 2, 1] // types numbers in each line\r\n        settings.alien.inOneLine = 5 // pcs // amount of alien in one line. It means amount rows\r\n        settings.alien.shootProbability = 0.5\r\n        settings.alien.blockMovingTime = 70\r\n    }\r\n    else\r\n    {\r\n        settings.alien.alienTypes = [2, 1, 0] // types numbers in each line\r\n        settings.alien.inOneLine = 5 // pcs // amount of alien in one line. It means amount rows\r\n        settings.alien.shootProbability = 0.75\r\n        settings.alien.blockMovingTime = 50\r\n    }\r\n\r\n    objs.aliens = []\r\n    for (let i = 0, len = settings.alien.alienTypes.length; i < len; i++)\r\n    {\r\n        const alienType = settings.alien.alienTypes[i];\r\n        for (let j = 0; j < settings.alien.inOneLine; j++)\r\n        {\r\n            let alienX = settings.alien.size * (j + 1);\r\n            let alienY = settings.alien.size * (i + 1) + settings.headerSize;\r\n\r\n            objs.aliens.push(new Alien(alienX, alienY, sprites.aliens[alienType], alienType));\r\n        }\r\n    }\r\n}\r\n\r\nfunction goToNextLevel()\r\n{\r\n    if(gs.goToNextLevel === false)\r\n    {\r\n        stopGame()\r\n        gs.goToNextLevel = true\r\n        setTimeout(startNextLevel, settings.game.nextLevelWait)\r\n    }\r\n}\r\n\r\nfunction startNextLevel()\r\n{\r\n    gs.goToNextLevel = false\r\n    objs.aliens = []\r\n    objs.bullets = []\r\n    gs.level += 1\r\n    setAliens(gs.level)\r\n}\r\n\r\nfunction checkAreBulletsInSafeArea()\r\n{\r\n    for(let i = 0; i < objs.bullets.length; i++)\r\n    {\r\n        if (objs.bullets[i].x < safeArea.l ||\r\n            objs.bullets[i].x > safeArea.r ||\r\n            objs.bullets[i].y < safeArea.t ||\r\n            objs.bullets[i].y > safeArea.b + safeArea.t)\r\n        {\r\n            objs.bullets.splice(i,1);\r\n        }\r\n    }\r\n}\r\n\r\nfunction checkBulletIntersection()\r\n{\r\n    for(let i = 0; i < objs.bullets.length; i++)\r\n    {\r\n        if (objs.bullets[i].color === \"white\")\r\n        {\r\n            checkCannonOnLine(objs.bullets[i].x, objs.bullets[i].y,objs.bullets[i].x-objs.bullets[i].vx, objs.bullets[i].y - objs.bullets[i].vy, i)\r\n        }\r\n        else if(objs.bullets[i].color === \"green\")\r\n        {\r\n            checkAlienOnLine(objs.bullets[i].x, objs.bullets[i].y,objs.bullets[i].x-objs.bullets[i].vx, objs.bullets[i].y - objs.bullets[i].vy, i)\r\n        }\r\n    }\r\n}\r\n\r\nfunction checkAlienOnLine(ax, ay, bx ,by,indBullet)\r\n{\r\n    const vxFull = ax - bx\r\n    const vyFull = ay - by\r\n    const steps = Math.floor(Math.max(Math.abs(vxFull), Math.abs(vyFull)) / settings.alien.collisionMaxStepPx)\r\n\r\n    // check for boxes between a and b\r\n    let xStep = 0\r\n    let yStep = 0\r\n    let stepCounter = 1 // not 0 because we don't need to check point b\r\n    let killed = false\r\n    let toPointA = false\r\n    let c = {\r\n        x: bx,\r\n        y: by,\r\n    }\r\n\r\n    if (steps !== 0)\r\n    {\r\n        xStep = vxFull / steps\r\n        yStep = vyFull / steps\r\n        c.x += xStep\r\n        c.y += yStep\r\n    }\r\n    else\r\n    {\r\n        stepCounter = steps + 1\r\n        toPointA = true\r\n        c.x = ax\r\n        c.y = ay\r\n    }\r\n\r\n    while ((stepCounter <= steps  || toPointA) && !killed)\r\n    {\r\n        for(let i = 0; i < objs.aliens.length; i++)\r\n        {\r\n            if(objs.aliens[i].isAlive)\r\n            {\r\n                let xDist = Math.abs(c.x - (objs.aliens[i].x + settings.alien.size / 2))\r\n                if(xDist <= settings.alien.injDist / 2)\r\n                {\r\n                    let yDist = Math.abs((c.y - (objs.aliens[i].y + settings.alien.size / 2)))\r\n                    if(yDist <= settings.alien.injDist / 2)\r\n                    {\r\n                        injureAlien(i)\r\n                        if(xDist <= settings.alien.killDist / 2 && yDist <= settings.alien.killDist / 2)\r\n                        {\r\n                            killAlien(i)\r\n                            killed = true\r\n                            // destroyBullet\r\n                            objs.bullets.splice(indBullet,1)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // check is here bunker\r\n        for(let i = 0; i < objs.bunkers.length && !killed; i++)\r\n        {\r\n            if(objs.bunkers[i].hasPoint(Math.floor(c.x), Math.floor(c.y)))\r\n            {\r\n                objs.bullets.splice(indBullet,1)\r\n                killed = true\r\n            }\r\n        }\r\n\r\n        if(toPointA)\r\n        {\r\n            toPointA = false\r\n        }\r\n        else if (steps !== 0)\r\n        {\r\n            c.x += xStep\r\n            c.y += yStep\r\n            stepCounter += 1\r\n\r\n            if (stepCounter > steps)\r\n            {\r\n                toPointA = true\r\n                c.x = ax\r\n                c.y = ay\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction injureAlien(index)\r\n{\r\n    if(!objs.aliens[index].isInjured)\r\n    {\r\n        objs.aliens[index].blinkTime = 350\r\n        objs.aliens[index].isInjured = true\r\n    }\r\n    setTimeout(makeNotInjured, settings.alien.makeNotInjuredTime, index)\r\n}\r\n\r\nfunction makeNotInjured(index)\r\n{\r\n    objs.aliens[index].blinkTime = 1000\r\n    objs.aliens[index].isInjured = false\r\n}\r\n\r\nfunction killAlien(index)\r\n{\r\n    if(objs.aliens[index].blinkTime !== 100)\r\n    {\r\n        gs.score += gs.level\r\n        objs.aliens[index].blinkTime = 100\r\n        setTimeout(makeAlienIsNotAlive, settings.alien.aliveAfterKilling, index)\r\n    }\r\n}\r\n\r\nfunction makeAlienIsNotAlive(index)\r\n{\r\n    objs.aliens[index].isAlive = false\r\n}\r\n\r\nfunction checkCannonOnLine(ax, ay, bx ,by, indBullet)\r\n{\r\n    const vxFull = ax - bx\r\n    const vyFull = ay - by\r\n    const steps = Math.floor(Math.max(Math.abs(vxFull), Math.abs(vyFull)) / settings.cannon.collisionMaxStepPx)\r\n\r\n    // check for boxes between a and b\r\n    let xStep = 0\r\n    let yStep = 0\r\n    let stepCounter = 1 // not 0 because we don't need to check point b\r\n    let killed = false\r\n    let toPointA = false\r\n    let c = {\r\n        x: bx,\r\n        y: by,\r\n    }\r\n\r\n    if (steps !== 0)\r\n    {\r\n        xStep = vxFull / steps\r\n        yStep = vyFull / steps\r\n        c.x += xStep\r\n        c.y += yStep\r\n    }\r\n    else\r\n    {\r\n        stepCounter = steps + 1\r\n        toPointA = true\r\n        c.x = ax\r\n        c.y = ay\r\n    }\r\n\r\n    while ((stepCounter <= steps  || toPointA) && !killed)\r\n    {\r\n        let yDist = Math.abs((c.y - (objs.cannon.y + objs.cannon._sprite.h / 2)))\r\n\r\n        if(yDist <= settings.cannon.killDist / 2)\r\n        {\r\n            let xDist = Math.abs(c.x - (objs.cannon.x + objs.cannon._sprite.w / 2))\r\n            if(xDist <= settings.cannon.killDist / 2)\r\n            {\r\n                killCannon()\r\n                killed = true\r\n                // destroyBullet\r\n                objs.bullets.splice(indBullet,1);\r\n            }\r\n        }\r\n\r\n        // check is here bunker\r\n        for(let i = 0; i < objs.bunkers.length && !killed; i++)\r\n        {\r\n            if(objs.bunkers[i].hasPoint(Math.floor(c.x), Math.floor(c.y)))\r\n            {\r\n                objs.bullets.splice(indBullet,1)\r\n                killed = true\r\n            }\r\n        }\r\n\r\n        if(toPointA)\r\n        {\r\n            toPointA = false\r\n        }\r\n        else if (steps !== 0)\r\n        {\r\n            c.x += xStep\r\n            c.y += yStep\r\n            stepCounter += 1\r\n\r\n            if (stepCounter > steps)\r\n            {\r\n                toPointA = true\r\n                c.x = ax\r\n                c.y = ay\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction killCannon()\r\n{\r\n    gs.lives -= 1\r\n    if(gs.lives <= 0)\r\n    {\r\n        stopGame()\r\n    }\r\n}\r\n\r\nfunction stopGame()\r\n{\r\n    objs.bullets.forEach(b => {\r\n        b.vx = 0;\r\n        b.vy = 0;\r\n    });\r\n\r\n    objs.aliens.forEach(a =>  {\r\n        a.vx = 0;\r\n        a.vy = 0;\r\n    });\r\n\r\n    objs.cannon.vx = 0;\r\n    objs.cannon.vy = 0;\r\n}\r\n\r\nfunction showSafeAreaZone(ctx) // debug\r\n{\r\n    ctx.beginPath();\r\n    ctx.lineWidth = 1;\r\n    ctx.strokeStyle = \"red\"\r\n    ctx.strokeRect(safeArea.l, safeArea.t, safeArea.r, safeArea.b);\r\n    ctx.closePath();\r\n}\r\n\r\nfunction drawBackground(ctx, w, h)\r\n{\r\n    // border\r\n    ctx.beginPath();\r\n    let halfLineW = Math.floor(settings.lineW / 2)\r\n    ctx.lineWidth = settings.lineW;\r\n    ctx.strokeStyle = \"green\"\r\n    ctx.strokeRect(halfLineW, halfLineW, w - settings.lineW, h - settings.lineW);\r\n    ctx.strokeRect(halfLineW, settings.headerSize, w, h - settings.footerSize - settings.headerSize);\r\n    ctx.closePath();\r\n\r\n    safeArea.l = settings.lineW\r\n    safeArea.t = Math.floor(settings.lineW / 2) + settings.headerSize\r\n    safeArea.r = w - 2 * settings.lineW\r\n    safeArea.b = h - settings.footerSize - settings.headerSize - settings.lineW\r\n\r\n    // locate bunkers\r\n    for(let i = 1; i <= objs.bunkers.length; i++)\r\n    {\r\n        objs.bunkers[i - 1].x = i * Math.floor(safeArea.r / (settings.bunker.amount + 1))\r\n    }\r\n\r\n    showSafeAreaZone(ctx) // debug\r\n\r\n    // text settings\r\n    ctx.font = \"30px Verdana\";\r\n    ctx.fillStyle = \"green\";\r\n    ctx.textAlign = \"center\";\r\n    ctx.lineWidth = 2;\r\n    ctx.textBaseline=\"middle\";\r\n\r\n    // header\r\n    ctx.fillText(\"LEVEL: \" + gs.level, Math.floor(w * 0.2), Math.floor((settings.headerSize + settings.lineW) / 2));\r\n    //ctx.fillText(\"TextC\", Math.floor(w * 0.5), Math.floor((settings.headerSize + settings.lineW) / 2));\r\n    ctx.fillText(\"SCORE: \" + gs.score, Math.floor(w * 0.8), Math.floor((settings.headerSize + settings.lineW) / 2));\r\n\r\n    // footer\r\n    let lives = \"\";\r\n    for (let i = 0; i < gs.lives; i++)\r\n        lives += \"❤ \"\r\n    ctx.textAlign = \"left\";\r\n    ctx.fillText(\"LIVES: \" + lives, Math.floor(w * 0.1), Math.floor(h - (settings.headerSize + settings.lineW) / 2));\r\n\r\n}\r\n\r\nfunction drawGameOver(ctx, w, h)\r\n{\r\n    const sqrWPart = Math.floor(w / 10)\r\n    const sqrHPart = Math.floor(h / 10)\r\n\r\n    ctx.clearRect(sqrWPart*3, sqrHPart*3, sqrWPart*4, sqrHPart*4);\r\n    ctx.beginPath();\r\n    ctx.lineWidth = settings.lineW;\r\n    ctx.strokeStyle = \"green\"\r\n    ctx.strokeRect(sqrWPart*3, sqrHPart*3, sqrWPart*4, sqrHPart*3);\r\n    ctx.closePath();\r\n\r\n    ctx.textBaseline=\"top\";\r\n    ctx.textAlign = \"center\";\r\n    ctx.fillText(\"GAME OVER\", w / 2, sqrHPart*3 + settings.lineW + 80);\r\n\r\n    ctx.font = \"15px Verdana\";\r\n    ctx.fillText(\"tap space to replay\", w / 2, sqrHPart*3 + settings.lineW + 80 * 2);\r\n}\r\n\r\nfunction drawNextLevel(ctx, w, h)\r\n{\r\n    const sqrWPart = Math.floor(w / 10)\r\n    const sqrHPart = Math.floor(h / 10)\r\n\r\n    ctx.clearRect(sqrWPart*3, sqrHPart*3, sqrWPart*4, sqrHPart*4);\r\n    ctx.beginPath();\r\n    ctx.lineWidth = settings.lineW;\r\n    ctx.strokeStyle = \"green\"\r\n    ctx.strokeRect(sqrWPart*3, sqrHPart*3, sqrWPart*4, sqrHPart*3);\r\n    ctx.closePath();\r\n\r\n    ctx.font = \"30px Verdana\";\r\n    ctx.textBaseline=\"top\";\r\n    ctx.textAlign = \"center\";\r\n    ctx.strokeStyle = \"white\"\r\n    ctx.fillText(\"NEXT LEVEL\", w / 2, sqrHPart*3 + settings.lineW + 80);\r\n\r\n    ctx.font = \"15px Verdana\";\r\n    ctx.fillText(\"you are not bad\", w / 2, sqrHPart*3 + settings.lineW + 80 * 2);\r\n}\r\n\r\nexport function draw(canvas, time) {\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    drawBackground(ctx, canvas.width, canvas.height);\r\n    objs.aliens.forEach(a => a.draw(ctx, time));\r\n    objs.cannon.draw(ctx);\r\n    objs.bullets.forEach(b => b.draw(ctx));\r\n    objs.bunkers.forEach(b => b.draw(ctx));\r\n    if(gs.lives <= 0)\r\n    {\r\n        drawGameOver(ctx, canvas.width, canvas.height)\r\n    }\r\n    if(gs.goToNextLevel)\r\n    {\r\n        drawNextLevel(ctx, canvas.width, canvas.height)\r\n    }\r\n}\r\n\r\nfunction aliensStartShoot()\r\n{\r\n    let maxI = settings.alien.alienTypes.length;\r\n    let maxJ = settings.alien.inOneLine;\r\n    for(let j = 0; j < maxJ; j++)\r\n    {\r\n        for(let i = maxI - 1; i >= 0; i--)\r\n        {\r\n            if (objs.aliens[maxJ * i + j].isAlive)\r\n            {\r\n                 if(Math.random() < settings.alien.shootProbability)\r\n                 {\r\n                     let timeout = Math.floor(Math.random() * settings.alien.shootTime * 1000)\r\n                     setTimeout(alienMakeShoot, timeout, maxJ * i + j);\r\n                     if(!objs.aliens[maxJ * i + j].isInjured)\r\n                     {\r\n                         for (let k = 1; k <= objs.aliens[maxJ * i + j].alienType; k++)\r\n                         {\r\n                             setTimeout(alienMakeShoot, timeout + k * settings.alien.shootInterval, maxJ * i + j);\r\n                         }\r\n                     }\r\n                 }\r\n                i = -1;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction alienMakeShoot(ind)\r\n{\r\n    if(objs.aliens[ind].y < objs.cannon.y)\r\n    {\r\n        const bulletX = objs.aliens[ind].x + settings.alien.size / 2;\r\n        const bulletY = objs.aliens[ind].y + settings.alien.size / 2;\r\n        const bulletVx = ((objs.cannon.x + objs.cannon._sprite.w / 2) - bulletX) / settings.alien.BulletMult\r\n        const bulletVy = ((objs.cannon.y + objs.cannon._sprite.h / 2) - bulletY) / settings.alien.BulletMult\r\n\r\n        objs.bullets.push(new Bullet(bulletX, bulletY, bulletVx, bulletVy, 4, 8, \"white\"));\r\n    }\r\n}\r\n","import {\r\n  preload,\r\n  init,\r\n  update,\r\n  draw\r\n} from './game'\r\n\r\nconst canvas = document.getElementById(\"cnvs\");\r\ncanvas.width = 600;\r\ncanvas.height = window.innerHeight;\r\n\r\nconst tickLength = 15; //ms\r\nlet lastTick;\r\nlet lastRender;\r\nlet stopCycle;\r\n\r\nfunction run(tFrame)\r\n{\r\n    stopCycle = window.requestAnimationFrame(run);\r\n\r\n    const nextTick = lastTick + tickLength;\r\n    let numTicks = 0;\r\n\r\n    if (tFrame > nextTick) {\r\n        const timeSinceTick = tFrame - lastTick;\r\n        numTicks = Math.floor(timeSinceTick / tickLength);\r\n    }\r\n\r\n    for (let i = 0; i < numTicks; i++) {\r\n        lastTick = lastTick + tickLength;\r\n        update(lastTick);\r\n    }\r\n\r\n    draw(canvas, tFrame);\r\n    lastRender = tFrame;\r\n}\r\n\r\nfunction stopGame() {\r\n    window.cancelAnimationFrame(stopCycle);\r\n}\r\n\r\nfunction onPreloadComplete() {\r\n  lastTick = performance.now();\r\n  lastRender = lastTick;\r\n  stopCycle = null;\r\n  init(canvas);\r\n  run();\r\n}\r\n\r\npreload(onPreloadComplete);\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}